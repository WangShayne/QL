<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="Generator" content="EditPlus®">
	<meta name="Author" content="">
	<meta name="Keywords" content="">
	<meta name="Description" content="">
	<title>Document</title>
	<style>
		canvas{
			background:#F2f2f2;
		}
	</style>
</head>

<body>
	<h1>canvas绘图</h1>
	<canvas width='1300' height='500' id='c3'>您的浏览器不支持canvas绘图</canvas>
	<script>
		var ctx=c3.getContext('2d');
		/*ctx.arc(250,250,250,0,90*Math.PI/180,true)
		ctx.lineWidth=5
		ctx.stroke()*/
			var x=200;
			var y=250;
			var s=45;
			var c=315;
			var ss=1;
			var t=false;
		function open(){
			//s==45? s=s-45 : s=s+45;
			//c==315? c=c+45 : c=c-45;
			ctx.beginPath();
			ctx.arc(x,y,100,s*Math.PI/180,c*Math.PI/180,t);
			ctx.lineTo(x,y);
			ctx.closePath();
			ctx.stroke();
			ctx.beginPath();
			ctx.arc(x,200,20,0,Math.PI*2)
			ctx.fillStyle="#33ff00";
			ctx.fill();
			if(x>=1100){
				ss=-1;
				t=true;
			}else if(x<=200){
				ss=1;
			}
			x+=20*ss;
		}
		function close(){
			ctx.beginPath();
			ctx.arc(x,y,100,(s-45)*Math.PI/180,(c+45)*Math.PI/180,t);
			ctx.lineTo(x,y);
			ctx.closePath();
			ctx.stroke();
			ctx.beginPath();
			ctx.arc(x,200,20,0,Math.PI*2)
			ctx.fillStyle="#33ff00";
			ctx.fill();
			if(x>=1100){
				ss=-1;
				t=true;
			}else if(x<=200){
				ss=1;
			}
			x+=20*ss;
		}
		var state=0;
		setInterval(function(){
			ctx.clearRect(0,0,1300,1000)
			if(state==0){
				open();
				state=1;
			}else if(state==1){
				close();
				state=0;
			}
		},200)
	</script>
</body>
</html>
