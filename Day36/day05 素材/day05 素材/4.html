<!DOCTYPE HTML>
<html>
	<head>
		<title>取消与利用冒泡</title>
		<meta charset="utf-8"/>
		<link rel="stylesheet" href="css/3.css"/>
		<script>
			function calc(e){
				//获得目标元素target
				var target=e.target||e.srcElement;
				//如果target是button时(nodeName返回全大写元素名)
				if(target.nodeName=="BUTTON"){
					//如果target的内容是C
					if(target.innerHTML=="C"){
						//清除id为sc元素的内容
						sc.value=""
					}
					else if(target.innerHTML=="=")//如果target的内容是=
						//异常处理
						try{
							//将sc的内容放入eval函数执行,将结果设置回sc的内容中
							sc.value=eval(sc.value);
						}catch(err){
							//将error的message设置到sc的内容中
							sc.value=err;
						}

					else{//否则
						//将target的内容拼接到sc的内容后
						sc.value+=target.innerHTML
					}
				}
			}
			window.onload=function(){
				keys.addEventListener("click",calc);
			}
		</script>
	</head>
	<body>
		<div id="keys">
			<button id="d1">1</button>
			<button>2</button>
			<button>3</button>
			<button>4</button><br>
			<button>C</button>
			<button>+</button>
			<button>-</button>
			<button>=</button>
		</div>
		<textarea id="sc" style="resize:none;width:200px; height:50px;" readonly></textarea>
	</body>
</html>